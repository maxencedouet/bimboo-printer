<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Bimboo printer</title>
  </head>
  <body>

    <!-- // svg to convert
    <svg>
      <path
           d="m 86.491525,31.716102 c -24.9383,0.2065 -50.8231,26.0041 -30.6065,49.9421 2.8475,3.3717 8.8426,7.0079 12.7763,9.0459 5.8941,3.053 15.5922,1.715 21.8302,0.588 19.964605,-3.608 48.728005,-20.18 45.396005,-44.576 -4.424,-32.3946 -45.292805,-4.7261 -54.317305,9 -6.6876,10.1716 -9.4705,21.6537 -15.913661,34.115235 -2.527361,23.560233 -5.037339,45.889763 10.163661,63.869763 12.5645,14.862 43.335305,23.855 56.237305,3.517 4.178,-6.586 1.434,-20.924 1.434,-28.502 m -1.434,28.502 3.31592,18.27783 c 0.89308,19.28017 7.11108,50.25617 -9.88592,62.78617 -20.3511,15.003 -39.848305,-15.435 -31.952005,-33.566 7.263305,-16.678 25.301005,-19.821 38.639005,-29.164 2.403,-1.683 2.259,-4.977 4.634,-6.697 3.158,-2.286 7.395,-2.738 10.683,-5.078 7.954,-5.662 13.997,-13.498 20,-21.061"
           id="path" />
    </svg> -->

      <script>
      var fuck = '';

      require('./libs/jquery.min.js');
      require('./libs/jquery.svg.min.js');
      require('./renderer.js');
      require('./scripts/hershey.js');
      require('./scripts/dom.js');

      const fs = require('fs');
      const {dialog} = require('electron').remote;

      // path converter
      // const path = document.getElementById("path");
      // let points = '['
      //
      // for ( var i=0,l=path.getTotalLength()/15; i<l; i++ ){
      // 	var point = path.getPointAtLength( i/l * path.getTotalLength()
      //   );
      //   points += `[${((point.x-85)/6.5).toFixed(4)},${((point.y-110)/6.5).toFixed(4)}],`;
      // }
      //
      // points = points.slice(0, points.length-1)
      // points += ']'
      // fs.writeFileSync('maam', points, 'utf-8');

      function saave () {
        var options = {
          title: "Save file",
          defaultPath : "output",
          buttonLabel : "Save",

          filters :[
            {name: 'gcode', extensions: ['gcode',]},
            {name: 'All Files', extensions: ['*']}
           ]
        }

        dialog.showSaveDialog( options, (filename) => {
          fs.writeFileSync(filename, fuck, 'utf-8');
        })
      }

      </script>

      <input id="textula" style="width:100%; height: 40px; border: 2px solid black; text-align: center" placeholder="type your text"/>
      <div id='hershey_text' style="width: 1500px; height: 120px; border: 2px solid black; float:left; margin-top: 5px"></div>
      <div id="svg_out"></div>
      <button onclick="saave()">Save</button>
  </body>

</html>
